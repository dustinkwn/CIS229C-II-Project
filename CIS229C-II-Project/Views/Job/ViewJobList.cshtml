@model List<CIS229C_II_Project.Models.Job>
@{
    ViewBag.Title = "View Job List";
    Layout = "~/Views/Shared/_JobLayout.cshtml";
}

<h2>Job Viewer</h2>

<div>
    <table class="table">
        <tr>
            <th>Job ID</th>
            <th>Job Technician</th>
            <th>Job Create Date</th>
            <th>Job Finish Date</th>
            <th>Customer ID</th> 
            <th>Service</th>
        </tr>
        @if (Model.Count > 0)
        {
            foreach (var job in Model)
            {
                <tr>
                    <td>@job.JobID</td>
                    <td>@job.JobTechnician</td>
                    <td>@job.JobCreated</td>
                    <td>@job.JobFinished</td>
                    <td>@job.CustomerID</td>
                    @if (job.Services.Count > 0 )
                    {
                        <td>@job.Services.ElementAt(0)</td>
                    }
                    <td>@job.Services</td>


                </tr>
                for (int i = 1; i < job.Services.Count; i++)
                {
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>@job.Services.ElementAt(i)</td>
                    </tr>
                }
            }
        }
        else
        {
            ViewBag.Message = "No Jobs to Display";
        }

    </table>
    @ViewBag.Message
</div>